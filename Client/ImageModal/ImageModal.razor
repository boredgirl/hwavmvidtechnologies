@namespace Oqtane.ChatHubs

@inherits ImageModalBase

@using BlazorModal
@using Oqtane.ChatHubs.Constants

<BlazorModalComponent ElementId="@ImageModalElementId">

    <BlazorModalHeader>
        <div class="p-2 bg-primary text-light">
            <strong>Image Uploads</strong>
        </div>
    </BlazorModalHeader>

    <BlazorModalBody>
        @if (Message != null && Message.Photos != null)
        {

            <div class="bg-light py-sm-4 px-sm-1">
                @foreach (var photo in Message.Photos)
                {
                    <div class="position-relative">
                        <div class="position-absolute" style="top: 10px; right: 10px;">
                            <strong>Posted by @Message.User?.DisplayName on @Message.CreatedOn.ToShortTimeString()</strong>
                        </div>
                        <img class="img-fluid" src="@string.Format("{0}/{1}/{2}", NavigationManager.BaseUri, ChatHubConstants.UploadImagesPath, photo.Source)" />
                    </div>
                }
            </div>

        }
    </BlazorModalBody>

    <BlazorModalFooter>
        <div class="my-3 p-2 float-end">
            <button type="button" class="btn btn-link" @onclick="() => CloseDialogClickedAsync()">Dialog schließen</button>
        </div>
    </BlazorModalFooter>

</BlazorModalComponent>
